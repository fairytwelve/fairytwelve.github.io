<!DOCTYPE html><html lang="zh-CN"><head><meta name="generator" content="Hexo 3.9.0"><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description"><link rel="stylesheet" type="text/css" href="//fonts.loli.net/css?family=Source+Code+Pro"><link rel="stylesheet" type="text/css" href="/css/style.css?v=2.0.4"><link rel="stylesheet" type="text/css" href="/css/highlight.css?v=2.0.4"><link rel="Shortcut Icon" href="/favicon.ico"><link rel="bookmark" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><title>python爬虫技术及应用 | fairy</title></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">python爬虫技术及应用</h1><a id="logo" href="/.">fairy</a><p class="description"></p></div><div id="nav-menu"><a href="/." class="current"><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a><a href="/atom.xml"><i class="fa fa-rss"> 订阅</i></a></div><div id="search-form"><div id="result-mask" class="hide"></div><label><input id="search-key" type="text" autocomplete="off" placeholder="搜索"></label><div id="result-wrap" class="hide"><div id="search-result"></div></div><div class="hide"><template id="search-tpl"><div class="item"><a href="/{path}" title="{title}"><div class="title">{title}</div><div class="time">{date}</div><div class="tags">{tags}</div></a></div></template></div></div></div><div id="layout" class="layout-g"><div class="layout-l"><div class="content_container"><div class="post"><h1 class="post-title">python爬虫技术及应用</h1><div class="post-meta"><a href="/2019/10/08/爬虫技术及应用/#comments" class="comment-count"></a><p><span class="date">Oct 08, 2019</span><span><i id="busuanzi_container_page_pv"><i id="busuanzi_value_page_pv"></i><i>点击</i></i></span></p></div><div class="post-content"><p>主要内容：python爬虫技术及应用</p>
<a id="more"></a>



<p>爬虫？    爬=请求某个网站的数据<br><strong>正常上网的访问流程：</strong><br>我们常讲的超文本标记语言（HTML）<br>1）打开浏览器<br>2）输入网址<br>3）点击链接<br>4）阅读或获取（网页另存为，copy）内容（文本，音频，视频）<br>以上是人为的操作，效率视人的精力和各种因素决定</p>
<p>所以，我们需要通过计算机语言或技术实现快速的，高效爬取<br>python要实现上述类似于人的操作，需要怎么做呢？<br>python 能够获取的内容或者能够进行技术化东西（如网页源码）<br>1）输入网址<br>2）“点击”连接<br>3） 获取网页源代码<br>4） 解析源代码（制定符合解析规则的内容让Python知道该如何获得内容）<br>5） 保存、存储</p>
<p>要通过python实现爬虫，需要什么条件呢？<br><strong>1.相对应的库</strong><br>（1） Request：用于模拟人的行为进行数据请求，返回页面对象<br>（2） lxml：用于解析HTML、XML库支持文件，主要对返回得到的页面对象，进行解析，效率极高。<br>    如何获取并应用这些库呢？—pip<br>    pip install xxxx（所需要的库名）<br>    cmd—pip install requests<br>    cmd—pip install lxml<br><strong>2.编码</strong><br>（1）字符串、列表、元组<br>（2） 循环for/while<br>（3）判断if、elif、else<br>（4）对文件的读写操作open（）、read（）、write（）<br>（5）数据库存储sqlite</p>
<h3 id="1-requests、lxml库的应用"><a href="#1-requests、lxml库的应用" class="headerlink" title="1.requests、lxml库的应用"></a>1.requests、lxml库的应用</h3><h4 id="1-1-requests库"><a href="#1-1-requests库" class="headerlink" title="1.1 requests库"></a>1.1 requests库</h4><p>​    该库是一个第三方库，主要的作用是基于开源的AL开发协议的HTTP库，他比urllib更加方便，可以节约大量的公国时间，完全满足http的应该用需求。<br>​    在使用时：一定要加载导入requests库<br>​    创建请求：<br>​    普通的HTTP请求有两种方式：get/post    post比get更安全<br>​    r=requests.get(‘<a href="http://www/baidu/com&#39;" target="_blank" rel="noopener">http://www/baidu/com&#39;</a>) #等同于在浏览器中输入URL方式<br>​    r=requests.post()#等于类似form表单或隐形的请求，这种方式更安全，但是也有很多阻碍<br>​    </p>
<pre><code>通过get/post请求以后，会返回一个response对象，里面有我们需要的有效信息。
除了上面的这两个函数，还有put(),delete(),head() options(),结合这些函数，可以帮助我们进行更复杂的请求操作，反爬虫机制。</code></pre><h4 id="1-2-URL中传递参数"><a href="#1-2-URL中传递参数" class="headerlink" title="1.2 URL中传递参数"></a>1.2 URL中传递参数</h4><p>​    要想在URL中查询数据，我们可以在URL后加？及键值对如：<br>​    http：//<a href="http://www.baidu.com?Kw=zhiliaotang" target="_blank" rel="noopener">www.baidu.com?Kw=zhiliaotang</a><br>​    如果换到python中，要怎么完成参数传递？</p>
<h4 id="1-3-如何查看响应的内容"><a href="#1-3-如何查看响应的内容" class="headerlink" title="1.3 如何查看响应的内容"></a>1.3 如何查看响应的内容</h4><p>​    <img src="https://i.loli.net/2019/09/27/p89U2PFAM3i5gOK.png" alt="查看响应的内容.png"></p>
<h3 id="2-lxml"><a href="#2-lxml" class="headerlink" title="2.lxml"></a>2.lxml</h3><h4 id="2-1安装"><a href="#2-1安装" class="headerlink" title="2.1安装"></a>2.1安装</h4><p>lxml是python中的一个非常高效的解析库，支持xml文件和html，对于内容，它支持xpath解析方式<br>xpath：xml path language ，是一门在xml文档中查找信息的语言，它最初是用来做xml文档的搜索工作的，现在被同样的使用与html的内容或文档搜索。<br>xpath 在爬虫中不要依赖lxml库来完成节点的定位，以方便我们获得节点中的数据。</p>
<p>验证安装成功：import lxml </p>
<h4 id="2-2-xpath常见规则"><a href="#2-2-xpath常见规则" class="headerlink" title="2.2 xpath常见规则"></a>2.2 xpath常见规则</h4><p>表达式：<br>nodename：选取当前节点的所有子节点。<br>/:从当前节点直接选取子节点<br>//：从当前节点直接选取子孙节点<br>.:选取当前节点<br>..:选取当前节点的上一级节点=选取父节点</p>
<p>@：选取属性，如<div name="123"></div> @name<br><em>:通配符，选取所有元素节点与元素名<br>@</em>：选取所有的属性</p>
<p>[@attrib]选取所有属性的所有元素<br>[tag]选取所有具有指定元素的直接子节点</p>
<p>例如：获得div中所有的内容：【tag=‘text’】选取所有具有指定元素并且文本内容是text的节点。</p>
<p>爬虫实战<br>目标网址：<a href="http://baiwanzy.com/" target="_blank" rel="noopener">http://baiwanzy.com/</a><br>爬虫目标：<br>1.针对栏目的数据进行爬取，完成1层数据爬取<br>2.针对1层数据，完成2层数据的获取<br>（1）封面<br>（2）基本信息<br>（3）介绍<br>（4）播放地址<br>i。普通播放地址<br>ii。M3u8流地址–ckplayer<br>3.数据存储<br>（1）普通文件存储<br>（2）数据库存储</p>
<p>准备工作：<br>1.浏览器：chrome，QQ/sougou/360<br>2.python关键库：requests、lxml、sqlite3</p>
<p>状态码：<br>网页响应以后，会返回一个标识，一告知浏览器当前的状态，这个称之为状态码<br>200：响应正常<br>404：找不到<br>500：服务器错误</p>
<p>后续工作：<br>打包成exe ：pyinstall [options] [file]<br>数据处理==可视化，清洗····<br>······</p>
</div><div class="post-copyright"><blockquote><p>原文作者: fairytwelve</p><p>原文链接: <a href="http://yoursite.com/2019/10/08/爬虫技术及应用/">http://yoursite.com/2019/10/08/爬虫技术及应用/</a></p><p>版权声明: 转载请注明出处(必须保留作者署名及链接)</p></blockquote></div><div class="tags"><a href="/tags/python/">python</a></div><div class="post-share"><div class="social-share"><span>分享到:</span></div></div><div class="post-nav"><a href="/2019/10/14/渗透测试面试问题集合/" class="pre">渗透测试面试问题合集</a><a href="/2019/10/08/可视化/" class="next">python爬虫数据可视化</a></div><div id="comments"></div></div></div></div><div class="layout-r"><div id="sidebar"><div class="search-pla"></div><div id="toc" class="widget"><div class="widget-title"><i class="fa fa-fei">文章目录</i></div><ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-requests、lxml库的应用"><span class="toc-text">1.requests、lxml库的应用</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-1-requests库"><span class="toc-text">1.1 requests库</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-2-URL中传递参数"><span class="toc-text">1.2 URL中传递参数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-3-如何查看响应的内容"><span class="toc-text">1.3 如何查看响应的内容</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-lxml"><span class="toc-text">2.lxml</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-1安装"><span class="toc-text">2.1安装</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-xpath常见规则"><span class="toc-text">2.2 xpath常见规则</span></a></li></ol></li></ol></div><div class="widget"><div class="widget-title"><i class="fa fa-xie"> 最新文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2019/12/08/使用burpsuit抓手机APP/">使用burpsuit抓手机APP</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/11/18/网络安全法学习重点/">网络安全法</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/10/25/xss进阶/">XSS进阶</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/10/16/sqlmap简单使用/">sqlmap简单使用</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/10/14/渗透测试面试问题集合/">渗透测试面试问题合集</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/10/08/爬虫技术及应用/">python爬虫技术及应用</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/10/08/可视化/">python爬虫数据可视化</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/09/26/python文件读写/">python文件读写</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/09/25/python函数/">PYTHON·函数</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/09/25/python循环语句/">python·循环语句</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-biao"> 标签</i></div><div class="tagcloud"><a href="/tags/网络，QoS/" style="font-size: 15px;">网络，QoS</a> <a href="/tags/Eigrp，路由协议/" style="font-size: 15px;">Eigrp，路由协议</a> <a href="/tags/热备份路由协议，思科专有/" style="font-size: 15px;">热备份路由协议，思科专有</a> <a href="/tags/IP地址和VLSM（变长子网掩码）/" style="font-size: 15px;">IP地址和VLSM（变长子网掩码）</a> <a href="/tags/网络，NAT/" style="font-size: 15px;">网络，NAT</a> <a href="/tags/网络，OSPF/" style="font-size: 15px;">网络，OSPF</a> <a href="/tags/思科/" style="font-size: 15px;">思科</a> <a href="/tags/python/" style="font-size: 15px;">python</a> <a href="/tags/GRE-VPN/" style="font-size: 15px;">GRE-VPN</a> <a href="/tags/sqlmap/" style="font-size: 15px;">sqlmap</a> <a href="/tags/渗透，XSS漏洞/" style="font-size: 15px;">渗透，XSS漏洞</a> <a href="/tags/策略路由/" style="font-size: 15px;">策略路由</a> <a href="/tags/渗透/" style="font-size: 15px;">渗透</a> <a href="/tags/路由协议，路由重分/" style="font-size: 15px;">路由协议，路由重分</a> <a href="/tags/防火墙，安全/" style="font-size: 15px;">防火墙，安全</a> <a href="/tags/VLNA/" style="font-size: 15px;">VLNA</a> <a href="/tags/法律/" style="font-size: 15px;">法律</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-archive"> 归档</i></div><ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/">2019</a><span class="archive-list-count">26</span></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-you"> 友情链接</i></div><ul></ul><a href="http://www.example1.com/" title="site-name1" target="_blank">site-name1</a><ul></ul><a href="http://www.example2.com/" title="site-name2" target="_blank">site-name2</a><ul></ul><a href="http://www.example3.com/" title="site-name3" target="_blank">site-name3</a></div></div></div></div><a id="totop" href="#top"></a><div id="footer"><div class="footer-info"><p><a href="/baidusitemap.xml">网站地图</a> |  <a href="/atom.xml">订阅本站</a> |  <a href="/about/">联系博主</a></p><p>本站总访问量：<i id="busuanzi_container_site_pv"><i id="busuanzi_value_site_pv"></i></i>次，本站总访客数:<i id="busuanzi_container_site_uv"><i id="busuanzi_value_site_uv"></i></i>人</p><p><span> Copyright &copy;<a href="/." rel="nofollow">fairytwelve.</a></span><span> Theme by<a rel="nofollow" target="_blank" href="https://github.com/chaooo/hexo-theme-BlueLake"> BlueLake.</a></span><span> Count by<a href="http://busuanzi.ibruce.info/"> busuanzi.</a></span><span> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a></span></p></div></div></div><script src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" async></script><script type="text/javascript" src="/js/search.json.js?v=2.0.4"></script><script type="text/javascript" src="/js/toctotop.js?v=2.0.4" async></script><link rel="stylesheet" type="text/css" href="/share/css/share.css"><script type="text/javascript" src="/share/js/social-share.js" charset="utf-8"></script><script type="text/javascript" src="/share/js/qrcode.js" charset="utf-8"></script></body></html>